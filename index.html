<!DOCTYPE html>
<html>
	<head>
		<title>Top Down Operator Precedence</title>
		<link rel="stylesheet" href="bootstrap.min.css">
		<link rel="stylesheet" href="style.css">
		
		<script src="hook.js"></script>
		<script src="PrettyPrintHTML.js"></script>
		<script src="HTML.js"></script>
		
	</head>

	<body>
		<h1><a href="readme.html">Vaughan Pratt's Top Down Operator Precedence</a></h1>

		<p>
		The paper presents a parser for Simplified JavaScript that is written in Simplified Javascript. It
		is chapter 9 of <a href="http://www.amazon.com/exec/obidos/ASIN/0596510047/wrrrldwideweb">Beautiful Code</a>.
		This page loads that parser and runs the parser on itself.
		</p>
		  
		<p>This page loads two JavaScript files:</p>
		<table align="center">
			<tr>
				<td><a href="http://javascript.crockford.com/tdop/tokens.js">tokens.js</a>
				<td>This file installs the <code>String.prototype.tokens</code> method. It produces an array of simple tokens from a string.
			<tr>
				<td><a href="http://javascript.crockford.com/tdop/parse.js">parse.js</a>
				<td>This file installs the <code>make_parse</code> function which produces the parse function. The indirection was done so that we could conveniently recover the source of the function.
		</table>

		<p>The text that follows is the parse tree that the parser generated by parsing itself.</p>
		
		<hr>
		
		<center>
			<h2>MiniJS</h2>
			<button onclick="minijs_parse()">Parse to JSON</button>
		</center>
		<br>
		
				<table class="inputoutput">
			<tr>
				<td class="input">
					<center><h3><code>Input</code></h3></center>
					<textarea id="minijs_input" rows="20" cols="50">
var a = 1 + 2;
					</textarea>
				<td class="output">
					<center><h3><code>Output</code></h3></center>
					<pre id="minijs_output"></pre>
			<tr>
		</table>
		
		<script src="minijs_tokens.js"></script>
		<script src="minijs_parse.js"></script>
		<script src="minijs_interface.js"></script>

		<hr>

		<center>
			<h2>Calculator</h2>
			<button onclick="calc_calculate()">Calculate</button>
			<button onclick="calc_prettyprint()">PrettyPrint</button>
			<button onclick="calc_clear()">Clear</button>
			<button onclick="calc_prettyprintselection()">PrettyPrint Selection</button>
			<button onclick="calc_prettyprinthtml()">PrettyPrintHTML</button>
			<button onclick="calc_tokentable()">TokenTable</button>
			<button onclick="calc_parsestepselection()">ParseStepSelection</button>
		</center>
		<br>
		<table class="inputoutput">
			<tr>
				<td class="input">
					<center><h3><code>Input</code></h3></center>
					<textarea id="calc_input" rows="20" cols="50">
3
2 ^ 8
(12 % 7) * (3 + 2)
19 / -9

hoursPerDay = 24
minutesPerHour = 60
minutesPerDay = minutesPerHour * hoursPerDay
minutesPerDay
minutesPerDay * 60

toDegrees(radians) = radians * 180 / pi
toDegrees(2 * pi)

cylinderVolume(r, h) = pi * r ^ 2 * h
cylinderVolume(2, 4)

PrettyPrint(1,2)
					</textarea>
				<td class="output">
					<center><h3><code>Output</code></h3></center>
					<pre id="output"></pre>
			<tr>
		</table>

		<script src="calc_interface.js"></script>
		<script src="calc_lexer.js"></script>
		<script src="calc_parser.js"></script>
		<script src="calc_evaluator.js"></script>

		<!--
		<button onclick="clearCanvas()">Clear Canvas</button>
		<button onclick="paintAST()">Paint AST</button>
		<canvas id="myCanvas" width="2000" height="2000"></canvas>
		<script src="canvas.js"></script>
		-->

	</body>
</html>
